{"version":3,"sources":["../../../src/plugins/unversioned/react-native-maps.ts"],"names":["LOCATION_USAGE","withDefaultLocationPermissions","config","_internal","projectRoot","resolveFrom","silent","ios","infoPlist","NSLocationWhenInUseUsageDescription","AndroidConfig","Permissions","withPermissions","packageName","fallback","GoogleMapsApiKey","withGoogleMapsApiKey","IOSConfig","Maps","withMaps"],"mappings":";;;;;;;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAEA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;;;AAEA,MAAMA,cAAc,GAAG,+CAAvB,C,CAEA;AACA;;AACA,MAAMC,8BAA4C,GAAGC,MAAM,IAAI;AAAA;;AAC7D;AACA,MACE,qBAAAA,MAAM,CAACC,SAAP,gEAAkBC,WAAlB,IACAC,uBAAYC,MAAZ,CAAmBJ,MAAM,CAACC,SAAP,CAAiBC,WAApC,EAAiD,mBAAjD,CAFF,EAGE;AACA,QAAI,CAACF,MAAM,CAACK,GAAZ,EAAiBL,MAAM,CAACK,GAAP,GAAa,EAAb;AACjB,QAAI,CAACL,MAAM,CAACK,GAAP,CAAWC,SAAhB,EAA2BN,MAAM,CAACK,GAAP,CAAWC,SAAX,GAAuB,EAAvB;AAC3BN,IAAAA,MAAM,CAACK,GAAP,CAAWC,SAAX,CAAqBC,mCAArB,GACEP,MAAM,CAACK,GAAP,CAAWC,SAAX,CAAqBC,mCAArB,IAA4DT,cAD9D;AAGA,WAAOU,+BAAcC,WAAd,CAA0BC,eAA1B,CAA0CV,MAA1C,EAAkD,CACvD,2CADuD,EAEvD,yCAFuD,CAAlD,CAAP;AAID;;AACD,SAAOA,MAAP;AACD,CAjBD;;eAmBe,8CAAmB;AAChCW,EAAAA,WAAW,EAAE,mBADmB;AAEhCC,EAAAA,QAAQ,EAAE,CACRJ,+BAAcK,gBAAd,CAA+BC,oBADvB,EAERC,2BAAUC,IAAV,CAAeC,QAFP,EAGRlB,8BAHQ;AAFsB,CAAnB,C","sourcesContent":["import { AndroidConfig, ConfigPlugin, IOSConfig } from '@expo/config-plugins';\nimport resolveFrom from 'resolve-from';\n\nimport { createLegacyPlugin } from './createLegacyPlugin';\n\nconst LOCATION_USAGE = 'Allow $(PRODUCT_NAME) to access your location';\n\n// Copied from expo-location package, this gets used when the\n// user has react-native-maps installed but not expo-location.\nconst withDefaultLocationPermissions: ConfigPlugin = config => {\n  // Only add location permissions if react-native-maps is installed.\n  if (\n    config._internal?.projectRoot &&\n    resolveFrom.silent(config._internal.projectRoot, 'react-native-maps')\n  ) {\n    if (!config.ios) config.ios = {};\n    if (!config.ios.infoPlist) config.ios.infoPlist = {};\n    config.ios.infoPlist.NSLocationWhenInUseUsageDescription =\n      config.ios.infoPlist.NSLocationWhenInUseUsageDescription || LOCATION_USAGE;\n\n    return AndroidConfig.Permissions.withPermissions(config, [\n      'android.permission.ACCESS_COARSE_LOCATION',\n      'android.permission.ACCESS_FINE_LOCATION',\n    ]);\n  }\n  return config;\n};\n\nexport default createLegacyPlugin({\n  packageName: 'react-native-maps',\n  fallback: [\n    AndroidConfig.GoogleMapsApiKey.withGoogleMapsApiKey,\n    IOSConfig.Maps.withMaps,\n    withDefaultLocationPermissions,\n  ],\n});\n"],"file":"react-native-maps.js"}